<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practicas ecológicas</title>
    <link rel="stylesheet" href="practicas.css">
    <header>
            <h1>PRACTICAS ECOLÓGICAS</h1>
    </header>
<body class="body">

    <div id="sidebar" class="sidebar">
        <button class="closebtn" onclick="closeNav()"><b>✖</b></button>
        <a href="index.html">Inicio</a>
        <a href="Prácticas_Ecológicas.html">Prácticas Ecológicas</a>
        <a href="Biohuertos.html">Biohuertos</a>
        <a href="SobreNosotros.html">Sobre Nosotros</a>
        <a href="https://www.stack-ai.com/chat-assistant/b3793d77-7344-4476-9d59-ddd0acd5a0e7/42dda566-b42d-4e9f-907a-ce93c206fe1d/670cc64b8cd92a3b3abb6b15">Chatbot</a>
    </div>
    <div id="main">
        <button class="openbtn" onclick="openNav()">☰</button>
    </div>

    <div id="loader" class="loader">
        <div class="tree">
            <div class="branch" style="--x:0">
                <span style="--i:0;"></span>
                <span style="--i:1;"></span>
                <span style="--i:2;"></span>
                <span style="--i:3;"></span>
            </div>
            <div class="branch" style="--x:1">
                <span style="--i:0;"></span>
                <span style="--i:1;"></span>
                <span style="--i:2;"></span>
                <span style="--i:3;"></span>
            </div>
            <div class="branch" style="--x:2">
                <span style="--i:0;"></span>
                <span style="--i:1;"></span>
                <span style="--i:2;"></span>
                <span style="--i:3;"></span>
            </div>
            <div class="branch" style="--x:3">
                <span style="--i:0;"></span>
                <span style="--i:1;"></span>
                <span style="--i:2;"></span>
                <span style="--i:3;"></span>
            </div>
            <div class="stem">
                <span style="--i:0;"></span>
                <span style="--i:1;"></span>
                <span style="--i:2;"></span>
                <span style="--i:3;"></span>
            </div>
            <span class="shadow"></span>
        </div>
    </div>
    <div id="content">
        <div class="cards">
            <a href="practica1.html" class="card red">
                <p class="tip">Reciclar</p>
                <p class="second-text">Separa tus residuos</p>
            </a>
            <a href="ahorrar-agua.html" class="card blue">
                <p class="tip">Ahorrar agua</p>
                <p class="second-text">Cierra el grifo</p>
            </a>
            <a href="energia-limpia.html" class="card green">
                <p class="tip">Energía limpia</p>
                <p class="second-text">Usa fuentes renovables</p>
            </a>
        </div>
    </div>
    <script>
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', function(e) {
                e.preventDefault();
                const loader = document.getElementById('loader');
                const content = document.getElementById('content');
                const targetPage = this.getAttribute('href');
                
                loader.classList.add('active');

                fetch(targetPage)
                    .then(response => response.text())
                    .then(html => {
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        const newContent = doc.getElementById('content');
                        
                        if (newContent) {
                            content.innerHTML = newContent.innerHTML;
                            history.pushState(null, '', targetPage);
                            document.title = doc.title;
                        } else {
                            console.error('No se encontró el elemento #content en la página de destino');
                        }
                    })
                    .catch(error => {
                        console.error('Error al cargar la página:', error);
                    })
                    .finally(() => {
                        loader.classList.remove('active');
                    });
            });
        });

        window.addEventListener('popstate', function() {
            location.reload();
        });

        function openNav() {
        document.getElementById("sidebar").style.width = "250px";
        document.getElementById("main").style.marginLeft = "250px";
        }

        function closeNav() {
        document.getElementById("sidebar").style.width = "0";
        document.getElementById("main").style.marginLeft = "0";
        }
        
    </script>
</body>
</html>